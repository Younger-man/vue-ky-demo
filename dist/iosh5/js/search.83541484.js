(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["search"],{efe3:function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"search"},[r("div",{staticClass:"header"},[r("div",{staticClass:"input-container"},[r("form",{attrs:{action:"javascript:void(0)"}},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.searchWords,expression:"searchWords"}],ref:"input",attrs:{type:"search",placeholder:"搜索铃声"},domProps:{value:e.searchWords},on:{input:function(t){t.target.composing||(e.searchWords=t.target.value)}}}),r("div",{staticClass:"icon-wrapper",on:{click:e.search}},[r("div",{staticClass:"icon"})])])]),r("div",{staticClass:"cancel",on:{click:e.backHome}},[e._v("取消")])]),r("div",{directives:[{name:"show",rawName:"v-show",value:!e.isSearch&&!e.noSearchShow&&e.searchSkw.length>0,expression:"!isSearch && !noSearchShow && searchSkw.length > 0"}],staticClass:"hot-word-wrapper"},[r("div",{staticClass:"title"},[e._v("热门搜索")]),r("div",{staticClass:"hot-word"},e._l(e.searchSkw,function(t,s){return r("div",{key:s,staticClass:"word-item",on:{click:function(r){return e.chooseHotWord(t)}}},[e._v("\n        "+e._s(t)+"\n      ")])}),0)]),r("div",{directives:[{name:"show",rawName:"v-show",value:!e.isSearch&&!e.noSearchShow&&e.history.length>0,expression:"!isSearch && !noSearchShow && history.length > 0"}],staticClass:"search-history-wrapper",class:{"no-hot-style":0===e.searchSkw.length}},[r("div",{staticClass:"search-header"},[r("div",{staticClass:"search-title"},[e._v("搜索历史")]),r("div",{staticClass:"delete-icon",on:{click:e.clearHistory}})]),r("div",{staticClass:"search-content",class:{"search-content-up":e.isShowPlayer}},e._l(e.history,function(t,s){return r("div",{key:s,staticClass:"history-item",on:{click:function(r){return e.chooseHotWord(t)}}},[e._v("\n        "+e._s(t)+"\n      ")])}),0)]),e.isSearch?r("scroll",{staticClass:"scoll",on:{"scroll-bottom":e.reqlistSearch}},[r("ring-list",{staticClass:"search-detail",attrs:{list:e.searchRes},on:{play:e.clickRing}})],1):e._e(),e.noSearchShow?r("div",{staticClass:"no-search"},[r("no-search-ring",{staticClass:"no-search-detail",attrs:{list:e.noSearchRes},on:{play:e.clickRing}})],1):e._e()],1)},c=[],a=(r("8e6e"),r("ac6a"),r("456d"),r("a481"),r("386d"),r("bd86")),n=r("2f62"),i=r("ba1b"),o=r("59c5"),h=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"wrapper"},[e._m(0),r("div",{staticClass:"recommand"},[e._v("－ 为您推荐 －")]),r("ring-list",{staticClass:"item-wrapper",attrs:{list:e.list}})],1)},l=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"no-search-header"},[r("div",{staticClass:"icon"}),r("div",{staticClass:"text"},[e._v("没有找到匹配的结果")])])}],u=r("bca2");function d(e,t){var r=Object.keys(e);return Object.getOwnPropertySymbols&&r.push.apply(r,Object.getOwnPropertySymbols(e)),t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(r,!0).forEach(function(t){Object(a["a"])(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var f={name:"HomeRing",props:{list:Array},components:{ringList:i["a"]},computed:p({playState:function(){return this.player.playState},itemClass:function(){return""}},Object(n["e"])({currentRingId:function(e){return 0===Object.keys(e.currentRing).length?"-1":e.currentRing.id}})),data:function(){return{player:Object(u["a"])()}},methods:{clickItem:function(e,t){e.index=t,this.bus.$emit("play",e),this.player.toggle({id:e.id,url:e.url})},cal:function(e){return e?"".concat(parseFloat(e/1e4).toFixed(1),"万"):"20万"}}},m=f,v=r("2877"),w=Object(v["a"])(m,h,l,!1,null,"da366ac4",null),S=w.exports;function y(e,t){var r=Object.keys(e);return Object.getOwnPropertySymbols&&r.push.apply(r,Object.getOwnPropertySymbols(e)),t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(r,!0).forEach(function(t){Object(a["a"])(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var O={computed:b({},Object(n["e"])({searchSkw:function(e){return e.search.searchSkw.length>12?e.search.searchSkw.slice(0,12):e.search.searchSkw},searchRes:function(e){return e.search.searchRes},noSearchRes:function(e){return e.search.noSearchRes},more:function(e){return e.search.more},px:function(e){return e.search.px},isSearch:function(){return!!this.searchRes&&this.searchRes.length>0},noSearchShow:function(e){return e.search.noSearchShow},history:function(e){return e.search.history},searchWordsCache:function(e){return e.search.searchWords},isShowPlayer:function(e){return e.isShowPlayer}})),mounted:function(){var e=this;this.$refs.input.addEventListener("keyup",function(t){13===t.keyCode&&e.search()})},components:{ringList:i["a"],noSearchRing:S,scroll:o["a"]},created:function(){0===this.searchSkw.length&&this.$store.dispatch("search/QRY_SKW"),this.$store.commit("search/SEARCH_ORIGIN"),this.searchWords=this.searchWordsCache},watch:{searchWords:function(e){""===e&&this.$store.commit("search/SEARCH_ORIGIN")}},activated:function(){this.searchWords=this.searchWordsCache},data:function(){return{searchWords:""}},methods:{chooseHotWord:function(e){this.searchWords=e,this.search()},search:function(){this.searchWords&&this.$store.dispatch("search/SEARCH",this.searchWords)},clearHistory:function(){this.$modal({title:"",content:"是否确定清空历史记录",type:0,btn:[{text:"取消",param:null,callback:this.cancerClear},{text:"确认",param:null,callback:this.clear}]})},cancerClear:function(){},clear:function(){this.$store.commit("search/CLEAR_HISTORY",this.searchWords)},clickRing:function(){},backHome:function(){this.$store.commit("search/SEARCH_ORIGIN"),this.$route.params.from?this.$router.replace({name:this.$route.params.from}):this.$router.replace({name:"home"})},reqlistSearch:function(){this.$store.dispatch("search/MORE_SEARCH_RES",this.searchWords)}}},g=O,C=Object(v["a"])(g,s,c,!1,null,"7468bab6",null);t["default"]=C.exports}}]);